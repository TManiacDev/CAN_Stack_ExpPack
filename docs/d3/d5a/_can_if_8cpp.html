<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>STM32Cube Expansion Pack CAN Stack: E:/Embedded_SourceCode/STM32IDE_ws/NucleoCanDev/Drivers/BSP/TM_Engineering_board/CanIf/CanIf.cpp File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">STM32Cube Expansion Pack CAN Stack
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d3/d5a/_can_if_8cpp.html','../../');});
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">CanIf.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="../../d3/d5a/_can_if_8h_source.html">CanIf.h</a>&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for CanIf.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/dfc/_can_if_8cpp__incl.png" border="0" usemap="#_e_1_2_embedded___source_code_2_s_t_m32_i_d_e__ws_2_nucleo_can_dev_2_drivers_2_b_s_p_2_t_m___engineering__board_2_can_if_2_can_if_8cpp" alt=""/></div>
<map name="_e_1_2_embedded___source_code_2_s_t_m32_i_d_e__ws_2_nucleo_can_dev_2_drivers_2_b_s_p_2_t_m___engineering__board_2_can_if_2_can_if_8cpp" id="_e_1_2_embedded___source_code_2_s_t_m32_i_d_e__ws_2_nucleo_can_dev_2_drivers_2_b_s_p_2_t_m___engineering__board_2_can_if_2_can_if_8cpp">
<area shape="rect" title=" " alt="" coords="490,5,689,76"/>
<area shape="rect" href="../../d3/d5a/_can_if_8h.html" title=" " alt="" coords="517,124,579,151"/>
<area shape="rect" title=" " alt="" coords="604,124,660,151"/>
<area shape="rect" href="../../d7/d98/_can_if___doxy_8h.html" title=" " alt="" coords="5,199,104,225"/>
<area shape="rect" href="../../d8/dd3/_ecu_names___cfg_8h_source.html" title=" " alt="" coords="189,348,312,375"/>
<area shape="rect" href="../../d0/d18/_can___cfg_8h_source.html" title=" " alt="" coords="507,273,589,300"/>
<area shape="rect" href="../../db/dbd/_can_if___cfg_8h_source.html" title=" " alt="" coords="580,348,668,375"/>
<area shape="rect" href="../../dc/d8c/_com_if_8h.html" title=" " alt="" coords="373,199,440,225"/>
<area shape="rect" href="../../d2/dc3/_can_if___compiler___cfg_8h.html" title=" " alt="" coords="664,199,811,225"/>
<area shape="rect" href="../../da/da2/_can_if___switch_8h.html" title=" " alt="" coords="835,199,943,225"/>
<area shape="rect" title=" " alt="" coords="512,423,573,449"/>
<area shape="rect" href="../../d0/dcc/_t_m___std___types_8h.html" title=" " alt="" coords="363,423,480,449"/>
<area shape="rect" href="../../d8/dd7/_t_m___platform___types_8h.html" title=" " alt="" coords="271,497,419,524"/>
<area shape="rect" href="../../de/d2a/_t_m___compiler_8h.html" title=" " alt="" coords="444,497,553,524"/>
<area shape="rect" title=" " alt="" coords="198,572,263,599"/>
<area shape="rect" title=" " alt="" coords="288,572,405,599"/>
<area shape="rect" href="../../d5/d39/_t_m___compiler___cfg_8h.html" title=" " alt="" coords="431,572,566,599"/>
<area shape="rect" href="../../dd/d4d/_t_m___com_stack___types_8h.html" title=" " alt="" coords="341,348,502,375"/>
<area shape="rect" href="../../df/df9/_can_if_upper_layer_8h.html" title=" " alt="" coords="179,273,307,300"/>
<area shape="rect" href="../../d3/d6d/_com_if___compiler___cfg_8h.html" title=" " alt="" coords="331,273,482,300"/>
</map>
</div>
</div>
<p><a href="../../d3/d5a/_can_if_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1cf5fd5b362e9be0e49815a29aff5f9d"><td class="memItemLeft" align="right" valign="top"><a id="a1cf5fd5b362e9be0e49815a29aff5f9d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/_can_if_8cpp.html#a1cf5fd5b362e9be0e49815a29aff5f9d">EXTERN_CONST</a> (<a class="el" href="../../dd/da5/struct_can_if___rx_pdu_cfg_type.html">CanIf_RxPduCfgType</a>, <a class="el" href="../../de/d2a/_t_m___compiler_8h.html#a3851a1a8ddec9eacd2e30a8a19bb8cc8">AUTOMATIC</a>) MyTest_RxPduConfig[]</td></tr>
<tr class="memdesc:a1cf5fd5b362e9be0e49815a29aff5f9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">to access the configuration <br /></td></tr>
<tr class="separator:a1cf5fd5b362e9be0e49815a29aff5f9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae72c5e8a32277ec9bf79078371e442e2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/_can_if_8cpp.html#ae72c5e8a32277ec9bf79078371e442e2">SYS_FUNC</a> (<a class="el" href="../../d2/dc3/_can_if___compiler___cfg_8h.html#ac124f5bce130e163910d67b45bf1fedb">TM_CANIF_CODE</a>) <a class="el" href="../../d3/d86/group___t_m___can_if___main.html#ga90b5c9821ab88ba86ffbdec37ebe3071">CanIfStates</a> &amp;operator++(<a class="el" href="../../d3/d86/group___t_m___can_if___main.html#ga90b5c9821ab88ba86ffbdec37ebe3071">CanIfStates</a> &amp;state)</td></tr>
<tr class="separator:ae72c5e8a32277ec9bf79078371e442e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6325f648d5992cc64673e6c6b3e06b4"><td class="memItemLeft" align="right" valign="top"><a id="ab6325f648d5992cc64673e6c6b3e06b4"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>SYS_FUNC</b> (<a class="el" href="../../d2/dc3/_can_if___compiler___cfg_8h.html#ac124f5bce130e163910d67b45bf1fedb">TM_CANIF_CODE</a>) <a class="el" href="../../d0/d88/class_can_if.html">CanIf</a></td></tr>
<tr class="separator:ab6325f648d5992cc64673e6c6b3e06b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27f064ffa1646e33eb391caf71161a12"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/dcc/_t_m___std___types_8h.html#a998b1392c75c4079d9ebcf00f506abfd">Std_ReturnType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/_can_if_8cpp.html#a27f064ffa1646e33eb391caf71161a12">HalHeaderToCanIfHeader</a> (<a class="el" href="../../de/d2a/_t_m___compiler_8h.html#a4aae075cd720aee043ae21cd4438f391">REF2CONST</a>(CAN_RxHeaderTypeDef, <a class="el" href="../../de/d2a/_t_m___compiler_8h.html#a3851a1a8ddec9eacd2e30a8a19bb8cc8">AUTOMATIC</a>) rev2HAL_Header, <a class="el" href="../../de/d2a/_t_m___compiler_8h.html#aa9a6327c45717d66546d9222127c6201">REF2VAR</a>(<a class="el" href="../../d5/d65/struct_com_stack___can_msg_header.html">ComStack_CanMsgHeader</a>, <a class="el" href="../../de/d2a/_t_m___compiler_8h.html#a3851a1a8ddec9eacd2e30a8a19bb8cc8">AUTOMATIC</a>) rev2CanIfHeader)</td></tr>
<tr class="memdesc:a27f064ffa1646e33eb391caf71161a12"><td class="mdescLeft">&#160;</td><td class="mdescRight">remapping of the HAL CAN Header to the Header used inside this implementation  <a href="../../d3/d5a/_can_if_8cpp.html#a27f064ffa1646e33eb391caf71161a12">More...</a><br /></td></tr>
<tr class="separator:a27f064ffa1646e33eb391caf71161a12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66aa86075291e668b039ac7cf2f1a9b5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/dcc/_t_m___std___types_8h.html#a998b1392c75c4079d9ebcf00f506abfd">Std_ReturnType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/_can_if_8cpp.html#a66aa86075291e668b039ac7cf2f1a9b5">CanIfHeaderToHalHeader</a> (<a class="el" href="../../de/d2a/_t_m___compiler_8h.html#a4aae075cd720aee043ae21cd4438f391">REF2CONST</a>(<a class="el" href="../../d5/d65/struct_com_stack___can_msg_header.html">ComStack_CanMsgHeader</a>, <a class="el" href="../../de/d2a/_t_m___compiler_8h.html#a3851a1a8ddec9eacd2e30a8a19bb8cc8">AUTOMATIC</a>) rev2CanIfHeader, <a class="el" href="../../de/d2a/_t_m___compiler_8h.html#aa9a6327c45717d66546d9222127c6201">REF2VAR</a>(CAN_RxHeaderTypeDef, <a class="el" href="../../de/d2a/_t_m___compiler_8h.html#a3851a1a8ddec9eacd2e30a8a19bb8cc8">AUTOMATIC</a>) rev2HAL_Header)</td></tr>
<tr class="memdesc:a66aa86075291e668b039ac7cf2f1a9b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">remapping of the CAN Header to the HAL Header used by the STM HAL  <a href="../../d3/d5a/_can_if_8cpp.html#a66aa86075291e668b039ac7cf2f1a9b5">More...</a><br /></td></tr>
<tr class="separator:a66aa86075291e668b039ac7cf2f1a9b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f49fb2d8fc7d9aff91e57ba77d38965"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/_can_if_8cpp.html#a6f49fb2d8fc7d9aff91e57ba77d38965">ISR_FUNC</a> (TM_CANIF_ISR_CODE) HAL_CAN_RxFifo0MsgPendingCallback(CAN_HandleTypeDef *hcan)</td></tr>
<tr class="separator:a6f49fb2d8fc7d9aff91e57ba77d38965"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a1f5def24e64f1452409b758f2bf9b252"><td class="memItemLeft" align="right" valign="top"><a id="a1f5def24e64f1452409b758f2bf9b252"></a>
const <a class="el" href="../../d5/dc1/struct_can_config_type.html">CanConfigType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/_can_if_8cpp.html#a1f5def24e64f1452409b758f2bf9b252">Can_NucleoConfig</a></td></tr>
<tr class="memdesc:a1f5def24e64f1452409b758f2bf9b252"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the configuration for the STM Nulceo144 board. <br /></td></tr>
<tr class="separator:a1f5def24e64f1452409b758f2bf9b252"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a029d37783f55e2066e50c73fff77da80"><td class="memItemLeft" align="right" valign="top">CAN_HandleTypeDef *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/_can_if_8cpp.html#a029d37783f55e2066e50c73fff77da80">ptr2Can1Hdl</a></td></tr>
<tr class="separator:a029d37783f55e2066e50c73fff77da80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28c06295133acab8283c32280316c340"><td class="memItemLeft" align="right" valign="top"><a id="a28c06295133acab8283c32280316c340"></a>
CAN_HandleTypeDef *&#160;</td><td class="memItemRight" valign="bottom"><b>ptr2Can2Hdl</b></td></tr>
<tr class="separator:a28c06295133acab8283c32280316c340"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a030b02bbbc7931554c760e416542c044"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; <a class="el" href="../../de/d26/group___t_m___can_cfg___baud_cfg.html#ga70e0e5ae10d093bf26563e64ffd29c44">ECU_CanController</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/_can_if_8cpp.html#a030b02bbbc7931554c760e416542c044">controllerList</a></td></tr>
<tr class="separator:a030b02bbbc7931554c760e416542c044"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08ef61ab0227fa515413012af78f7e04"><td class="memItemLeft" align="right" valign="top"><a id="a08ef61ab0227fa515413012af78f7e04"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>testFilter</b> = 3</td></tr>
<tr class="separator:a08ef61ab0227fa515413012af78f7e04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a6da959889917683862a904925d9fda"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/df9/group___t_m___can_if___types.html#gab034ecff4a0bf6d67446c86c07946249">CAN_TxMessage</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/_can_if_8cpp.html#a9a6da959889917683862a904925d9fda">cleanMessage</a></td></tr>
<tr class="memdesc:a9a6da959889917683862a904925d9fda"><td class="mdescLeft">&#160;</td><td class="mdescRight">we use a clean message  <a href="../../d3/d5a/_can_if_8cpp.html#a9a6da959889917683862a904925d9fda">More...</a><br /></td></tr>
<tr class="separator:a9a6da959889917683862a904925d9fda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a755646e6eb90158cbf7941723f6a156b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/da2/_can_if___switch_8h.html#adb16ae33a90ba564df0981ecc3a9b78c">CanIf_MessageType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/_can_if_8cpp.html#a755646e6eb90158cbf7941723f6a156b">rxMsgBuffer</a> [<a class="el" href="../../d3/def/group___t_m___can_if___buffer_cfg.html#ga384b4522d7385ec4a82fa8f4694ca6a1">CANIF_RX_BUFFER_SIZE</a>]</td></tr>
<tr class="memdesc:a755646e6eb90158cbf7941723f6a156b"><td class="mdescLeft">&#160;</td><td class="mdescRight">we want a Rx software buffer  <a href="../../d3/d5a/_can_if_8cpp.html#a755646e6eb90158cbf7941723f6a156b">More...</a><br /></td></tr>
<tr class="separator:a755646e6eb90158cbf7941723f6a156b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d85e7055c0d224ada29474746b1fc39"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d5e/struct_can_if___rx_buffer_type.html">CanIf_RxBufferType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/_can_if_8cpp.html#a0d85e7055c0d224ada29474746b1fc39">canRxBuffer</a></td></tr>
<tr class="memdesc:a0d85e7055c0d224ada29474746b1fc39"><td class="mdescLeft">&#160;</td><td class="mdescRight">the object to handle the RxBuffer  <a href="../../d3/d5a/_can_if_8cpp.html#a0d85e7055c0d224ada29474746b1fc39">More...</a><br /></td></tr>
<tr class="separator:a0d85e7055c0d224ada29474746b1fc39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a96170903dac49d09d50016bcef44b1"><td class="memItemLeft" align="right" valign="top"><a id="a6a96170903dac49d09d50016bcef44b1"></a>
const <a class="el" href="../../d6/df4/class_can_if_upper_layer.html">CanIfUpperLayer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/_can_if_8cpp.html#a6a96170903dac49d09d50016bcef44b1">p2UpperLayerList</a> [<a class="el" href="../../d7/d66/group___t_m___can_if_cfg.html#ga441f342ee6cae3a029d66a6290e3de8e">CANIF_RXPDU_COUNT</a>]</td></tr>
<tr class="memdesc:a6a96170903dac49d09d50016bcef44b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">this list will hold the pointer to the upper layers in same order like the rxHeaderList <br /></td></tr>
<tr class="separator:a6a96170903dac49d09d50016bcef44b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="../../d3/d5a/_can_if_8cpp.html">CanIf.cpp</a></p>
<dl class="section author"><dt>Author</dt><dd>TManiac </dd></dl>
<dl class="section date"><dt>Date</dt><dd>20.08.2022 </dd></dl>
<dl class="section version"><dt>Version</dt><dd></dd></dl>

<p class="definition">Definition in file <a class="el" href="../../d3/d5a/_can_if_8cpp_source.html">CanIf.cpp</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a66aa86075291e668b039ac7cf2f1a9b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66aa86075291e668b039ac7cf2f1a9b5">&#9670;&nbsp;</a></span>CanIfHeaderToHalHeader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/dcc/_t_m___std___types_8h.html#a998b1392c75c4079d9ebcf00f506abfd">Std_ReturnType</a> CanIfHeaderToHalHeader </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d2a/_t_m___compiler_8h.html#a4aae075cd720aee043ae21cd4438f391">REF2CONST</a>(<a class="el" href="../../d5/d65/struct_com_stack___can_msg_header.html">ComStack_CanMsgHeader</a>, <a class="el" href="../../de/d2a/_t_m___compiler_8h.html#a3851a1a8ddec9eacd2e30a8a19bb8cc8">AUTOMATIC</a>)&#160;</td>
          <td class="paramname"><em>rev2CanIfHeader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d2a/_t_m___compiler_8h.html#aa9a6327c45717d66546d9222127c6201">REF2VAR</a>(CAN_RxHeaderTypeDef, <a class="el" href="../../de/d2a/_t_m___compiler_8h.html#a3851a1a8ddec9eacd2e30a8a19bb8cc8">AUTOMATIC</a>)&#160;</td>
          <td class="paramname"><em>rev2HAL_Header</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>remapping of the CAN Header to the HAL Header used by the STM HAL </p>
<dl class="section remark"><dt>Remarks</dt><dd>this function should be used only and immediately before transmit a message</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">rev2CanIfHeader</td><td>pointer to the header with data inside </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rev2HAL_Header</td><td>pointer where the data should be copied </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>E_NOT_OK if one pointer is NULL_PTR </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/_can_if_8cpp_source.html#l00826">826</a> of file <a class="el" href="../../d3/d5a/_can_if_8cpp_source.html">CanIf.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../da/da2/_can_if___switch_8h_source.html#l00034">CANIF_EXTID</a>, <a class="el" href="../../d0/dcc/_t_m___std___types_8h_source.html#l00045">E_NOT_OK</a>, and <a class="el" href="../../d0/dcc/_t_m___std___types_8h_source.html#l00039">E_OK</a>.</p>

</div>
</div>
<a id="a27f064ffa1646e33eb391caf71161a12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27f064ffa1646e33eb391caf71161a12">&#9670;&nbsp;</a></span>HalHeaderToCanIfHeader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/dcc/_t_m___std___types_8h.html#a998b1392c75c4079d9ebcf00f506abfd">Std_ReturnType</a> HalHeaderToCanIfHeader </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d2a/_t_m___compiler_8h.html#a4aae075cd720aee043ae21cd4438f391">REF2CONST</a>(CAN_RxHeaderTypeDef, <a class="el" href="../../de/d2a/_t_m___compiler_8h.html#a3851a1a8ddec9eacd2e30a8a19bb8cc8">AUTOMATIC</a>)&#160;</td>
          <td class="paramname"><em>rev2HAL_Header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d2a/_t_m___compiler_8h.html#aa9a6327c45717d66546d9222127c6201">REF2VAR</a>(<a class="el" href="../../d5/d65/struct_com_stack___can_msg_header.html">ComStack_CanMsgHeader</a>, <a class="el" href="../../de/d2a/_t_m___compiler_8h.html#a3851a1a8ddec9eacd2e30a8a19bb8cc8">AUTOMATIC</a>)&#160;</td>
          <td class="paramname"><em>rev2CanIfHeader</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>remapping of the HAL CAN Header to the Header used inside this implementation </p>
<dl class="section remark"><dt>Remarks</dt><dd>this function should be used only and immediately on received message</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">rev2HAL_Header</td><td>reference to the HAL header with data inside </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rev2CanIfHeader</td><td>reference where the data should be copied </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>E_NOT_OK if one pointer is NULL_PTR </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/_can_if_8cpp_source.html#l00802">802</a> of file <a class="el" href="../../d3/d5a/_can_if_8cpp_source.html">CanIf.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../da/da2/_can_if___switch_8h_source.html#l00034">CANIF_EXTID</a>, <a class="el" href="../../d0/dcc/_t_m___std___types_8h_source.html#l00045">E_NOT_OK</a>, and <a class="el" href="../../d0/dcc/_t_m___std___types_8h_source.html#l00039">E_OK</a>.</p>

</div>
</div>
<a id="a6f49fb2d8fc7d9aff91e57ba77d38965"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f49fb2d8fc7d9aff91e57ba77d38965">&#9670;&nbsp;</a></span>ISR_FUNC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ISR_FUNC </td>
          <td>(</td>
          <td class="paramtype">TM_CANIF_ISR_CODE&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>this overwrites the weak HAL function </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/_can_if_8cpp_source.html#l00854">854</a> of file <a class="el" href="../../d3/d5a/_can_if_8cpp_source.html">CanIf.cpp</a>.</p>

</div>
</div>
<a id="ae72c5e8a32277ec9bf79078371e442e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae72c5e8a32277ec9bf79078371e442e2">&#9670;&nbsp;</a></span>SYS_FUNC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SYS_FUNC </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/dc3/_can_if___compiler___cfg_8h.html#ac124f5bce130e163910d67b45bf1fedb">TM_CANIF_CODE</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> &amp;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>the enum switching operator is used only inside the <a class="el" href="../../d0/d88/class_can_if.html" title="the class to work on the CAN controller interface">CanIf</a> </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/_can_if_8cpp_source.html#l00090">90</a> of file <a class="el" href="../../d3/d5a/_can_if_8cpp_source.html">CanIf.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d86/group___t_m___can_if___main.html#gga90b5c9821ab88ba86ffbdec37ebe3071a83162722a9ee0ea14383065a180f1af4">ErrorState</a>, <a class="el" href="../../d3/d86/group___t_m___can_if___main.html#gga90b5c9821ab88ba86ffbdec37ebe3071ab70139410ab2739fae5136b8f6b42f14">FilterInit</a>, <a class="el" href="../../d3/d86/group___t_m___can_if___main.html#gga90b5c9821ab88ba86ffbdec37ebe3071aa645f9d227d88da3d8ed7042f29f15f3">HwInit</a>, <a class="el" href="../../d3/d86/group___t_m___can_if___main.html#gga90b5c9821ab88ba86ffbdec37ebe3071a77136a4756a54c0e7b36fec7fbce0d22">PreInit</a>, <a class="el" href="../../d3/d86/group___t_m___can_if___main.html#gga90b5c9821ab88ba86ffbdec37ebe3071ae7d31fc0602fb2ede144d18cdffd816b">Ready</a>, and <a class="el" href="../../d3/d86/group___t_m___can_if___main.html#gga90b5c9821ab88ba86ffbdec37ebe3071ac23e2b09ebe6bf4cb5e2a9abe85c0be2">Stopped</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a0d85e7055c0d224ada29474746b1fc39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d85e7055c0d224ada29474746b1fc39">&#9670;&nbsp;</a></span>canRxBuffer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d5e/struct_can_if___rx_buffer_type.html">CanIf_RxBufferType</a> canRxBuffer</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">{</div>
<div class="line">    0,</div>
<div class="line">    0,</div>
<div class="line">    <a class="code" href="../../d3/d5a/_can_if_8cpp.html#a755646e6eb90158cbf7941723f6a156b">rxMsgBuffer</a></div>
<div class="line">}</div>
</div><!-- fragment -->
<p>the object to handle the RxBuffer </p>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000006">Todo:</a></b></dt><dd>bring the buffers to save class </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/_can_if_8cpp_source.html#l00078">78</a> of file <a class="el" href="../../d3/d5a/_can_if_8cpp_source.html">CanIf.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/_can_if_8cpp_source.html#l00404">CanIf::Receive()</a>.</p>

</div>
</div>
<a id="a9a6da959889917683862a904925d9fda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a6da959889917683862a904925d9fda">&#9670;&nbsp;</a></span>cleanMessage</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/df9/group___t_m___can_if___types.html#gab034ecff4a0bf6d67446c86c07946249">CAN_TxMessage</a> cleanMessage</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="../../df/df9/group___t_m___can_if___types.html#gga7d72c75f884fc1bf3a1d61ac1d48b60da0acd345c19c6a30f356e243e0809a892">CanIf_TxMessage_free</a>,</div>
<div class="line">    {</div>
<div class="line">         0x0,</div>
<div class="line">         0,</div>
<div class="line">           CAN_ID_EXT,</div>
<div class="line">           CAN_RTR_DATA,</div>
<div class="line">           0,</div>
<div class="line">          FunctionalState::DISABLE</div>
<div class="line">    },</div>
<div class="line">    0,</div>
<div class="line">    { 0x00,0x00, 0xAF,0xFE, 0x00,0x00, 0x00,0x00}</div>
<div class="line">}</div>
</div><!-- fragment -->
<p>we use a clean message </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/_can_if_8cpp_source.html#l00055">55</a> of file <a class="el" href="../../d3/d5a/_can_if_8cpp_source.html">CanIf.cpp</a>.</p>

</div>
</div>
<a id="a030b02bbbc7931554c760e416542c044"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a030b02bbbc7931554c760e416542c044">&#9670;&nbsp;</a></span>controllerList</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt;<a class="el" href="../../de/d26/group___t_m___can_cfg___baud_cfg.html#ga70e0e5ae10d093bf26563e64ffd29c44">ECU_CanController</a>&gt; controllerList</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>names of the CAN controller configurations</p>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000004">Todo:</a></b></dt><dd>das sollte auch extern sein: extern const ECU_CanController controllerList[]; </dd></dl>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/_can_if_8cpp_source.html#l00132">CanIf::Init()</a>.</p>

</div>
</div>
<a id="a029d37783f55e2066e50c73fff77da80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a029d37783f55e2066e50c73fff77da80">&#9670;&nbsp;</a></span>ptr2Can1Hdl</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CAN_HandleTypeDef* ptr2Can1Hdl</td>
        </tr>
      </table>
</div><div class="memdoc">
<h1><a class="anchor" id="CanIf_HAL_C"></a>
Code generation</h1>
<p>File Name : <a class="el" href="../../df/d3f/_can_if___h_a_l_8c_source.html">CanIf_HAL.c</a> Description : This file provides code for the configuration of the <a class="el" href="../../df/d3f/_can_if___h_a_l_8c_source.html">CanIf_HAL.c</a> instances.</p>
<p>MiddleWare name : TM_Engineering.TM_CAN_Interface.0.10.4 MiddleWare version : Last updated : Oct 23, 2022 10:28:25 AM</p>
<dl class="section attention"><dt>Attention</dt><dd></dd></dl>
<p>Copyright (c) 2022 STMicroelectronics. All rights reserved.</p>
<p>This software is licensed under terms that can be found in the LICENSE file in the root directory of this software component. If no LICENSE file comes with this software, it is provided AS-IS.</p>
<p>This file should be fully generated </p>

<p class="definition">Definition at line <a class="el" href="../../df/d3f/_can_if___h_a_l_8c_source.html#l00046">46</a> of file <a class="el" href="../../df/d3f/_can_if___h_a_l_8c_source.html">CanIf_HAL.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/_can_if_8cpp_source.html#l00132">CanIf::Init()</a>.</p>

</div>
</div>
<a id="a755646e6eb90158cbf7941723f6a156b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a755646e6eb90158cbf7941723f6a156b">&#9670;&nbsp;</a></span>rxMsgBuffer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/da2/_can_if___switch_8h.html#adb16ae33a90ba564df0981ecc3a9b78c">CanIf_MessageType</a> rxMsgBuffer[<a class="el" href="../../d3/def/group___t_m___can_if___buffer_cfg.html#ga384b4522d7385ec4a82fa8f4694ca6a1">CANIF_RX_BUFFER_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>we want a Rx software buffer </p>
<p>we start with a fix size. Later it would be go to the IDE </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/_can_if_8cpp_source.html#l00073">73</a> of file <a class="el" href="../../d3/d5a/_can_if_8cpp_source.html">CanIf.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="a_can_if_8cpp_html_a755646e6eb90158cbf7941723f6a156b"><div class="ttname"><a href="../../d3/d5a/_can_if_8cpp.html#a755646e6eb90158cbf7941723f6a156b">rxMsgBuffer</a></div><div class="ttdeci">CanIf_MessageType rxMsgBuffer[CANIF_RX_BUFFER_SIZE]</div><div class="ttdoc">we want a Rx software buffer</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/_can_if_8cpp_source.html#l00073">CanIf.cpp:73</a></div></div>
<div class="ttc" id="agroup___t_m___can_if___types_html_gga7d72c75f884fc1bf3a1d61ac1d48b60da0acd345c19c6a30f356e243e0809a892"><div class="ttname"><a href="../../df/df9/group___t_m___can_if___types.html#gga7d72c75f884fc1bf3a1d61ac1d48b60da0acd345c19c6a30f356e243e0809a892">CanIf_TxMessage_free</a></div><div class="ttdoc">the Tx Message is free for use</div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/_can_if___switch_8h_source.html#l00161">CanIf_Switch.h:161</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_60925fc218da8ca7908795bf5f624060.html">Drivers</a></li><li class="navelem"><a class="el" href="../../dir_0d65e5fa077ec095e65d7480f3bb9880.html">BSP</a></li><li class="navelem"><a class="el" href="../../dir_45fb0e39edf1106475bcfbabe5208558.html">TM_Engineering_board</a></li><li class="navelem"><a class="el" href="../../dir_931e191a005356959bd88fd0a521b9c5.html">CanIf</a></li><li class="navelem"><a class="el" href="../../d3/d5a/_can_if_8cpp.html">CanIf.cpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.16 </li>
  </ul>
</div>
</body>
</html>
